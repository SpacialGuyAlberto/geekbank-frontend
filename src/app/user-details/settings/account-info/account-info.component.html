<!-- account-info.component.html -->

<div class="account-info-dashboard">
  <!-- Menú de Pestañas -->
  <!-- ... tu código existente para las pestañas -->

  <!-- Contenido de las Pestañas -->
  <div class="content-grid">
    <!-- Detalles de la Cuenta -->
    <div class="content-section" *ngIf="selectedTab === 'details'">
      <h2>Detalles de la Cuenta</h2>
      <form (ngSubmit)="updatePersonalInfo()">
        <!-- Nombre -->
        <div class="field">
          <label for="name">Nombre:</label>
          <span *ngIf="!editingName">{{ user.name }}</span>
          <input
            *ngIf="editingName"
            type="text"
            id="name"
            [(ngModel)]="detailsBody.name"
            name="name"
            required
            minlength="2"
            maxlength="50"
            placeholder="Ingresa tu nombre"
          />
          <i class="fas fa-pencil-alt" (click)="toggleEdit('name')"></i>
          <!-- Mensaje de error para Nombre -->
          <div *ngIf="validationErrors.name" class="error-message">
            {{ validationErrors.name }}
          </div>
        </div>

        <!-- Email -->
        <div class="field">
          <label for="email">Email:</label>
          <span *ngIf="!editingEmail">{{ user.email }}</span>
          <input
            *ngIf="editingEmail"
            type="email"
            id="email"
            [(ngModel)]="detailsBody.email"
            name="email"
            required
            placeholder="Ingresa tu email"
          />
          <i class="fas fa-pencil-alt" (click)="toggleEdit('email')"></i>
          <!-- Mensaje de error para Email -->
          <div *ngIf="validationErrors.email" class="error-message">
            {{ validationErrors.email }}
          </div>
        </div>

        <!-- Teléfono -->
        <div class="field">
          <label for="phone">Teléfono:</label>
          <span *ngIf="!editingPhone">{{ user.phone }}</span>
          <input
            *ngIf="editingPhone"
            type="tel"
            id="phone"
            [(ngModel)]="detailsBody.phoneNumber"
            name="phone"
            required
            pattern="[0-9]{10,15}"
            placeholder="Ingresa tu teléfono"
          />
          <i class="fas fa-pencil-alt" (click)="toggleEdit('phone')"></i>
          <!-- Mensaje de error para Teléfono -->
          <div *ngIf="validationErrors.phoneNumber" class="error-message">
            {{ validationErrors.phoneNumber }}
          </div>
        </div>

        <!-- Mensaje de Error General -->
        <div *ngIf="generalErrorMessage" class="error-message general-error">
          {{ generalErrorMessage }}
        </div>

        <!-- Balance -->
        <div class="field">
          <label>Balance: {{balance | currency}}</label>
          <span>{{ user.balance | currency:'USD' }}</span>
        </div>

        <button type="submit">
          Actualizar Información
        </button>
      </form>
      <div *ngIf="showSuccessMessage" class="success-message">
        Información actualizada exitosamente.
      </div>
    </div>

    <!-- Resto de las secciones (Direcciones, Métodos de Pago, etc.) -->
    <!-- ... tu código existente para otras secciones -->
  </div>

  <!-- Mensaje de Error General -->
  <div *ngIf="generalErrorMessage" class="error-message general-error">
    {{ generalErrorMessage }}
  </div>

  <!-- Modal de Contraseña -->
  <app-password-modal
    *ngIf="showPasswordModal"
    [detailsBody]="detailsBody"
    [user]="user"
    (onConfirm)="handlePasswordModalResponse($event)"
  ></app-password-modal>

  <!-- Resto de tu plantilla -->
  <!-- ... -->
</div>
